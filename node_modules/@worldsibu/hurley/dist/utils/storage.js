"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var path_1 = require("path");
var sysWrapper_1 = require("./sysWrapper");
var network_1 = require("../models/network");
exports.ExistNetworkConfig = function (path) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        return tslib_1.__generator(this, function (_a) {
            return [2, sysWrapper_1.SysWrapper.existsPath(path_1.join(path, 'hurley.networkConfig.json'))];
        });
    });
};
exports.LoadNetworkConfig = function (path) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var config, network;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4, sysWrapper_1.SysWrapper.getJSON(path_1.join(path, 'hurley.networkConfig.json'))];
                case 1:
                    config = _a.sent();
                    network = new network_1.Network(path, {});
                    network.buildFromSave(config.organizations, config.channels, config.users);
                    return [2, network];
            }
        });
    });
};
exports.SaveNetworkConfig = function (path, config) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        return tslib_1.__generator(this, function (_a) {
            return [2, sysWrapper_1.SysWrapper.createJSON(path_1.join(path, 'hurley.networkConfig.json'), config)];
        });
    });
};
//# sourceMappingURL=storage.js.map